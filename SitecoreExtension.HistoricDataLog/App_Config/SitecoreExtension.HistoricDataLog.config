<configuration xmlns:patch="http://www.sitecore.net/xmlconfig/" xmlns:role="http://www.sitecore.net/xmlconfig/role/" xmlns:search="http://www.sitecore.net/xmlconfig/search/">
  <sitecore>
    <events>
      <event name="item:saved">
        <handler type="SitecoreExtension.HistoricDataLog.Events.SaveItemChanges, SitecoreExtension.HistoricDataLog" method="OnItemSaved" />
      </event>
    </events>
    <pipelines>
      <initialize>
        <processor type="SitecoreExtension.HistoricDataLog.Routings.RouteRegistration, SitecoreExtension.HistoricDataLog" patch:after="processor[@type='Sitecore.PathAnalyzer.Services.Pipelines.Initialize.WebApiInitializer, Sitecore.PathAnalyzer.Services']" />
      </initialize>
    </pipelines>
    <api>
      <services>
        <configuration type="Sitecore.Services.Infrastructure.Configuration.ServicesConfiguration, Sitecore.Services.Infrastructure">
          <allowedControllers hint="list:AddController">
            <allowedController desc="HistoricDataLogController">SitecoreExtension.HistoricDataLog.Controllers.HistoricDataLogController, SitecoreExtension.HistoricDataLog</allowedController>
          </allowedControllers>
        </configuration>
      </services>
    </api>
  </sitecore>
</configuration>